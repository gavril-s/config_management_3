#!/bin/bash

# Путь к директории, в которой нужно искать дубликаты
directory="/путь/к/директории"

# Создаем ассоциативный массив, чтобы хранить хэши файлов и список файлов с тем же хэшем
declare -A file_hashes

# Перебираем все файлы в указанной директории и её подкаталогах
find "$directory" -type f | while read file; do
  # Вычисляем хэш текущего файла (SHA-256)
  hash=$(sha256sum "$file" | awk '{print $1}')
  
  # Если файл с таким хэшем уже был найден, то это дубликат
  if [[ -n "${file_hashes[$hash]}" ]]; then
    echo "Дубликат: $file и ${file_hashes[$hash]}"
  else
    # В противном случае, сохраняем текущий файл как файл с данным хэшем
    file_hashes[$hash]="$file"
  fi
done
